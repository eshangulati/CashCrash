(function(){"use strict";var t={4514:function(t,e,a){var o=a(3751),n=a(641);const s={id:"app"};function r(t,e,a,o,r,l){const i=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(i)])}var l={name:"app"},i=a(6262);const d=(0,i.A)(l,[["render",r]]);var u=d,c=a(5220),h=a(33);const g=t=>((0,n.Qi)("data-v-06b3d1b1"),t=t(),(0,n.jt)(),t),p={class:"register-container"},m={class:"register-box"},v=g((()=>(0,n.Lk)("h1",null,"CashCrafter",-1))),b={class:"input-container"},k=g((()=>(0,n.Lk)("label",{for:"email"},"Email ID",-1))),f={key:0,class:"error-message"},L={class:"input-container"},w=g((()=>(0,n.Lk)("label",{for:"username"},"Username",-1))),y={key:0,class:"error-message"},_={class:"input-container"},C=g((()=>(0,n.Lk)("label",{for:"password"},"Password",-1))),E={key:0,class:"error-message"},T={class:"input-container"},S=g((()=>(0,n.Lk)("label",{for:"confirmPassword"},"Confirm Password",-1))),A={key:0,class:"error-message"},B=g((()=>(0,n.Lk)("button",{type:"submit",class:"register-button"},"Register",-1))),$={class:"additional-options"};function G(t,e,a,s,r,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",m,[v,(0,n.Lk)("form",{onSubmit:e[4]||(e[4]=(0,o.D$)(((...t)=>l.handleRegister&&l.handleRegister(...t)),["prevent"]))},[(0,n.Lk)("div",b,[k,(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>r.email=t),placeholder:"Email ID",class:(0,h.C4)({"input-error":!l.validEmail&&t.formSubmitted})},null,2),[[o.Jo,r.email]]),!l.validEmail&&t.formSubmitted?((0,n.uX)(),(0,n.CE)("div",f,"Please enter a valid email address.")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",L,[w,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[1]||(e[1]=t=>r.username=t),placeholder:"Username",class:(0,h.C4)({"input-error":!l.validUsername&&t.formSubmitted})},null,2),[[o.Jo,r.username]]),!l.validUsername&&t.formSubmitted?((0,n.uX)(),(0,n.CE)("div",y,"Username must be at least 3 characters.")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",_,[C,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>r.password=t),placeholder:"Password",class:(0,h.C4)({"input-error":!l.validPassword&&t.formSubmitted})},null,2),[[o.Jo,r.password]]),!l.validPassword&&t.formSubmitted?((0,n.uX)(),(0,n.CE)("div",E,"Password must be at least 6 characters.")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",T,[S,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=t=>r.confirmPassword=t),placeholder:"Confirm Password",class:(0,h.C4)({"input-error":!l.passwordsMatch&&t.formSubmitted})},null,2),[[o.Jo,r.confirmPassword]]),!l.passwordsMatch&&t.formSubmitted?((0,n.uX)(),(0,n.CE)("div",A,"Passwords do not match.")):(0,n.Q3)("",!0)]),B],32),(0,n.Lk)("div",$,[(0,n.bF)(i,{to:"/"},{default:(0,n.k6)((()=>[(0,n.eW)("Back to Login")])),_:1})])])])}var M=a(4335),F={name:"RegisterView",data(){return{email:"",username:"",password:"",confirmPassword:""}},computed:{validEmail(){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}]))$/.test(this.email)},validUsername(){return this.username.length>=3},validPassword(){return this.password.length>=6},passwordsMatch(){return this.password===this.confirmPassword}},methods:{handleRegister(){M.A.post("http://localhost/api_login.php/register",{username:this.username,password:this.password,email:this.email}).then((t=>{t.data.auth?(localStorage.setItem("user_id",t.data.user_id),this.$router.replace(`/dashboard/${t.data.user_id}`)):alert(t.data.message||"Registration failed")})).catch((t=>{console.error(t),alert("Error registering.")}))}}};const I=(0,i.A)(F,[["render",G],["__scopeId","data-v-06b3d1b1"]]);var P=I;const U=t=>((0,n.Qi)("data-v-3a0888a4"),t=t(),(0,n.jt)(),t),X={class:"login-container"},R={class:"login-box"},V=U((()=>(0,n.Lk)("h1",null,"CashCrafter",-1))),x={class:"input-container"},Q={class:"input-container"},D={key:0,class:"error-message"},j=U((()=>(0,n.Lk)("button",{type:"submit",class:"login-button"},"Login",-1))),J={class:"additional-options"};function O(t,e,a,s,r,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",X,[(0,n.Lk)("div",R,[V,(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,o.D$)(((...t)=>l.handleLogin&&l.handleLogin(...t)),["prevent"]))},[(0,n.Lk)("div",x,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t),placeholder:"Username"},null,512),[[o.Jo,r.username]])]),(0,n.Lk)("div",Q,[(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t),placeholder:"Password"},null,512),[[o.Jo,r.password]])]),r.loginError?((0,n.uX)(),(0,n.CE)("div",D,(0,h.v_)(r.loginError),1)):(0,n.Q3)("",!0),j],32),(0,n.Lk)("div",J,[(0,n.bF)(i,{to:"/register"},{default:(0,n.k6)((()=>[(0,n.eW)("Register")])),_:1})])])])}var q={name:"LoginView",data(){return{username:"",password:"",loginError:""}},methods:{handleLogin(){console.log("Sending login request",{username:this.username,password:this.password}),M.A.post("http://localhost/api_login.php/login",{username:this.username,password:this.password}).then((t=>{console.log("Received response:",t.data),t.data.auth?(localStorage.setItem("user_id",t.data.user_id),this.$router.replace(`/dashboard/${t.data.user_id}`)):(console.log("Login failed:",t.data.message),this.loginError=t.data.message)})).catch((t=>{console.error("Login error:",t),this.loginError="Error logging in. Please try again later."}))}}};const N=(0,i.A)(q,[["render",O],["__scopeId","data-v-3a0888a4"]]);var K=N;const W=t=>((0,n.Qi)("data-v-13622750"),t=t(),(0,n.jt)(),t),z={class:"dashboard-container"},H={class:"dashboard-header"},Y=W((()=>(0,n.Lk)("h1",null,"DashBoard",-1))),Z={class:"nav-buttons"},tt=W((()=>(0,n.Lk)("button",{class:"nav-button"},"Budget",-1))),et=W((()=>(0,n.Lk)("button",{class:"nav-button"},"Transactions",-1))),at=W((()=>(0,n.Lk)("button",{class:"nav-button"},"Savings",-1))),ot=W((()=>(0,n.Lk)("button",{class:"nav-button"},"Reports",-1))),nt={class:"dashboard-main"},st={class:"balance-overview"},rt=W((()=>(0,n.Lk)("h2",null,"Balance Overview",-1))),lt={class:"balance-amount"},it={class:"transaction-history"},dt=W((()=>(0,n.Lk)("h2",null,"Transaction History",-1))),ut={class:"upcoming-transaction"},ct=W((()=>(0,n.Lk)("h2",null,"Savings",-1)));function ht(t,e,a,o,s,r){const l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",z,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>r.logout&&r.logout(...t)),class:"nav-button logout-button"},"Logout"),(0,n.Lk)("header",H,[Y,(0,n.Lk)("nav",Z,[(0,n.bF)(l,{to:`/budget/${s.user_id}`},{default:(0,n.k6)((()=>[tt])),_:1},8,["to"]),(0,n.bF)(l,{to:`/transaction/${s.user_id}`},{default:(0,n.k6)((()=>[et])),_:1},8,["to"]),(0,n.bF)(l,{to:`/savings/${s.user_id}`},{default:(0,n.k6)((()=>[at])),_:1},8,["to"]),(0,n.bF)(l,{to:`/reports/${s.user_id}`},{default:(0,n.k6)((()=>[ot])),_:1},8,["to"])])]),(0,n.Lk)("main",nt,[(0,n.Lk)("section",st,[rt,(0,n.Lk)("div",lt," $"+(0,h.v_)(s.totalAllowance),1)]),(0,n.Lk)("section",it,[dt,(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.lastThreeTransactions,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.id}," Date: "+(0,h.v_)(t.date)+", Category: "+(0,h.v_)(t.category)+", Merchant: "+(0,h.v_)(t.merchant)+", Amount: $"+(0,h.v_)(t.amount),1)))),128))])]),(0,n.Lk)("section",ut,[ct,(0,n.Lk)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.savingsGoals,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"savings-goal"},[(0,n.Lk)("div",{class:(0,h.C4)(["progress-bar-container",{alert:r.getBudgetInfo(t.category).remaining<0}])},[(0,n.Lk)("div",{class:"progress-bar",style:(0,h.Tr)({width:r.progressBarWidth(t)})},null,4)],2),(0,n.Lk)("p",null,(0,h.v_)(t.category),1),(0,n.Lk)("p",null,"$"+(0,h.v_)(r.getBudgetInfo(t.category).remaining)+" saved of $"+(0,h.v_)(t.goal),1)])))),128))])])])])}a(4114);var gt={name:"DashboardView",data(){return{user_id:localStorage.getItem("user_id"),transactions:[],savingsGoals:[],budgets:[],totalAllowance:0}},mounted(){this.fetchTransactions(),this.fetchBudgets(),this.fetchSavingsGoals()},methods:{fetchTransactions(){M.A.get("http://localhost/transactions.php",{params:{user_id:this.user_id}}).then((t=>{this.transactions=t.data})).catch((t=>{console.error(t),this.$router.push("/")}))},fetchBudgets(){M.A.get("http://localhost/budget.php",{params:{user_id:this.user_id}}).then((t=>{this.budgets=t.data,this.calculateTotalAllowance()})).catch((t=>{console.error("Error fetching budgets:",t)}))},fetchSavingsGoals(){M.A.get("http://localhost/savings.php",{params:{user_id:this.user_id}}).then((t=>{this.savingsGoals=t.data})).catch((t=>{console.error("Error fetching savings goals:",t)}))},getBudgetInfo(t){const e=this.budgets.find((e=>e.category===t));return e?{allowance:e.allowance,amountSpent:e.amountSpent,remaining:e.allowance-e.amountSpent}:{allowance:0,amountSpent:0,remaining:0}},getSpent(t){const e=this.budgets.find((e=>e.category===t));return e?e.amountSpent:0},progressBarWidth(t){const e=this.getBudgetInfo(t.category);let a=e.remaining/t.goal*100;return a=Math.max(0,Math.min(a,100)),`${a}%`},calculateTotalAllowance(){this.totalAllowance=this.budgets.reduce(((t,e)=>t+parseFloat(e.allowance)),0)},logout(){localStorage.removeItem("user_id"),this.$router.push("/").then((()=>{history.replaceState(null,null,"/")}))}},computed:{lastThreeTransactions(){return this.transactions.slice(-3)}}};const pt=(0,i.A)(gt,[["render",ht],["__scopeId","data-v-13622750"]]);var mt=pt;const vt=t=>((0,n.Qi)("data-v-4c916f7e"),t=t(),(0,n.jt)(),t),bt={class:"transactions-container"},kt={class:"transaction-header"},ft=vt((()=>(0,n.Lk)("h1",null,"Transactions",-1))),Lt={class:"nav-buttons"},wt=vt((()=>(0,n.Lk)("button",{class:"nav-button"},"Dashboard",-1))),yt=vt((()=>(0,n.Lk)("button",{class:"nav-button"},"Budget",-1))),_t=vt((()=>(0,n.Lk)("button",{class:"nav-button"},"Savings",-1))),Ct=vt((()=>(0,n.Lk)("button",{class:"nav-button"},"Reports",-1))),Et=vt((()=>(0,n.Lk)("br",null,null,-1))),Tt=vt((()=>(0,n.Lk)("option",{value:""},"All Categories",-1))),St=["value"],At=vt((()=>(0,n.Lk)("br",null,null,-1))),Bt=vt((()=>(0,n.Lk)("br",null,null,-1))),$t={class:"transactions-table"},Gt=vt((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Date"),(0,n.Lk)("th",null,"Category"),(0,n.Lk)("th",null,"Merchant"),(0,n.Lk)("th",null,"Amount"),(0,n.Lk)("th",null,"Actions")])],-1))),Mt=["onClick"],Ft=["onClick"],It={class:"pagination-controls"},Pt=["disabled"],Ut=["disabled"],Xt={key:0,class:"modal"},Rt={class:"modal-content"},Vt=vt((()=>(0,n.Lk)("h2",null,"Add Transaction",-1))),xt=(0,n.Fv)('<option disabled value="" data-v-4c916f7e>Select Category</option><option value="Grocery" data-v-4c916f7e>Grocery</option><option value="Entertainment" data-v-4c916f7e>Entertainment</option><option value="Shopping" data-v-4c916f7e>Shopping</option><option value="Education" data-v-4c916f7e>Education</option>',5),Qt=[xt],Dt=vt((()=>(0,n.Lk)("button",{type:"submit"},"Add",-1))),jt={key:1,class:"modal"},Jt={class:"modal-content"},Ot=vt((()=>(0,n.Lk)("h2",null,"Edit Transaction",-1))),qt=(0,n.Fv)('<option disabled value="" data-v-4c916f7e>Select Category</option><option value="Grocery" data-v-4c916f7e>Grocery</option><option value="Entertainment" data-v-4c916f7e>Entertainment</option><option value="Shopping" data-v-4c916f7e>Shopping</option><option value="Education" data-v-4c916f7e>Education</option>',5),Nt=[qt],Kt=vt((()=>(0,n.Lk)("button",{type:"submit"},"Update",-1)));function Wt(t,e,a,s,r,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",bt,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.logout&&l.logout(...t)),class:"nav-button logout-button"},"Logout"),(0,n.Lk)("header",kt,[ft,(0,n.Lk)("nav",Lt,[(0,n.bF)(i,{to:`/dashboard/${t.user_id}`},{default:(0,n.k6)((()=>[wt])),_:1},8,["to"]),(0,n.bF)(i,{to:`/budget/${t.user_id}`},{default:(0,n.k6)((()=>[yt])),_:1},8,["to"]),(0,n.bF)(i,{to:`/savings/${t.user_id}`},{default:(0,n.k6)((()=>[_t])),_:1},8,["to"]),(0,n.bF)(i,{to:`/reports/${t.user_id}`},{default:(0,n.k6)((()=>[Ct])),_:1},8,["to"])])]),Et,(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.searchQuery=t),placeholder:"Search transactions...",onInput:e[2]||(e[2]=(...t)=>l.filterTransactions&&l.filterTransactions(...t))},null,544),[[o.Jo,r.searchQuery]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>r.selectedCategory=t),onChange:e[4]||(e[4]=(...t)=>l.filterTransactions&&l.filterTransactions(...t))},[Tt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.categories,(t=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:t},(0,h.v_)(t),9,St)))),128))],544),[[o.u1,r.selectedCategory]])]),At,(0,n.Lk)("button",{onClick:e[5]||(e[5]=t=>r.showAddModal=!0),class:"nav-button"},"Add Transaction"),Bt,(0,n.Lk)("table",$t,[Gt,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.paginatedTransactions,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t.id},[(0,n.Lk)("td",null,(0,h.v_)(t.date),1),(0,n.Lk)("td",null,(0,h.v_)(t.category),1),(0,n.Lk)("td",null,(0,h.v_)(t.merchant),1),(0,n.Lk)("td",null,(0,h.v_)(t.amount),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:e=>l.editTransaction(t)},"Edit",8,Mt),(0,n.Lk)("button",{onClick:e=>l.deleteTransaction(t.id)},"Delete",8,Ft)])])))),128))])]),(0,n.Lk)("div",It,[(0,n.Lk)("button",{onClick:e[6]||(e[6]=t=>l.handlePageClick(Math.max(r.currentPage-1,1))),disabled:1===r.currentPage}," Prev Page ",8,Pt),(0,n.Lk)("span",null,"Page "+(0,h.v_)(r.currentPage)+" of "+(0,h.v_)(l.pageCount),1),(0,n.Lk)("button",{onClick:e[7]||(e[7]=t=>l.handlePageClick(Math.min(r.currentPage+1,l.pageCount))),disabled:r.currentPage===l.pageCount}," Next Page ",8,Ut)]),r.showAddModal?((0,n.uX)(),(0,n.CE)("div",Xt,[(0,n.Lk)("div",Rt,[Vt,(0,n.Lk)("form",{onSubmit:e[13]||(e[13]=(0,o.D$)(((...t)=>l.createTransaction&&l.createTransaction(...t)),["prevent"]))},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>r.newTransaction.date=t),type:"date",required:""},null,512),[[o.Jo,r.newTransaction.date]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>r.newTransaction.category=t),required:""},Qt,512),[[o.u1,r.newTransaction.category]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>r.newTransaction.merchant=t),type:"text",placeholder:"Merchant",required:""},null,512),[[o.Jo,r.newTransaction.merchant]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>r.newTransaction.amount=t),type:"number",step:"0.01",placeholder:"Amount",required:""},null,512),[[o.Jo,r.newTransaction.amount]]),Dt,(0,n.Lk)("button",{type:"button",onClick:e[12]||(e[12]=t=>r.showAddModal=!1)},"Cancel")],32)])])):(0,n.Q3)("",!0),r.showEditModal?((0,n.uX)(),(0,n.CE)("div",jt,[(0,n.Lk)("div",Jt,[Ot,(0,n.Lk)("form",{onSubmit:e[19]||(e[19]=(0,o.D$)(((...t)=>l.updateTransaction&&l.updateTransaction(...t)),["prevent"]))},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[14]||(e[14]=t=>r.currentTransaction.date=t),type:"date",required:""},null,512),[[o.Jo,r.currentTransaction.date]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>r.currentTransaction.category=t),required:""},Nt,512),[[o.u1,r.currentTransaction.category]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[16]||(e[16]=t=>r.currentTransaction.merchant=t),type:"text",placeholder:"Merchant",required:""},null,512),[[o.Jo,r.currentTransaction.merchant]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>r.currentTransaction.amount=t),type:"number",step:"0.01",placeholder:"Amount",required:""},null,512),[[o.Jo,r.currentTransaction.amount]]),Kt,(0,n.Lk)("button",{type:"button",onClick:e[18]||(e[18]=t=>r.showEditModal=!1)},"Cancel")],32)])])):(0,n.Q3)("",!0)])}const zt="http://localhost/transactions.php";class Ht{getTransactions(t){return M.A.get(`${zt}?user_id=${t}`)}createTransaction(t){return M.A.post(zt,t)}updateTransaction(t){return M.A.put(zt,t)}deleteTransaction(t){return M.A.delete(zt,{data:{id:t}})}}var Yt=new Ht,Zt={name:"TransactionView",data(){return{transactions:[],filteredTransactions:[],showAddModal:!1,showEditModal:!1,currentPage:1,pageSize:3,newTransaction:{user_id:this.$route.params.user_id,date:"",category:"",merchant:"",amount:""},currentTransaction:{},searchQuery:"",selectedCategory:"",categories:["Grocery","Entertainment","Shopping","Education"]}},created(){this.newTransaction.user_id=localStorage.getItem("user_id"),this.fetchTransactions()},methods:{fetchTransactions(){const t=localStorage.getItem("user_id");Yt.getTransactions(t).then((t=>{console.log("Transactions fetched: ",t.data),this.transactions=t.data,this.filterTransactions()})).catch((t=>{console.error(t)}))},filterTransactions(){this.searchQuery||this.selectedCategory?this.filteredTransactions=this.transactions.filter((t=>{const e=!this.selectedCategory||t.category===this.selectedCategory,a=t.merchant.toLowerCase().includes(this.searchQuery.toLowerCase());return e&&a})):this.filteredTransactions=this.transactions,this.currentPage=1},createTransaction(){this.newTransaction.user_id=localStorage.getItem("user_id"),Yt.createTransaction(this.newTransaction).then((()=>{this.fetchTransactions(),this.showAddModal=!1,this.resetNewTransaction()})).catch((t=>{console.error(t)}))},editTransaction(t){this.currentTransaction={...t},this.showEditModal=!0},updateTransaction(){Yt.updateTransaction(this.currentTransaction).then((()=>{this.fetchTransactions(),this.showEditModal=!1})).catch((t=>{console.error(t)}))},deleteTransaction(t){Yt.deleteTransaction(t).then((()=>{this.fetchTransactions()})).catch((t=>{console.error(t)}))},resetNewTransaction(){this.newTransaction={user_id:localStorage.getItem("user_id"),date:"",category:"",merchant:"",amount:""}},handlePageClick(t){this.currentPage=t},logout(){localStorage.removeItem("user_id"),this.$router.push("/").then((()=>{history.replaceState(null,null,"/")}))}},computed:{paginatedTransactions(){const t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredTransactions.slice(t,e)},pageCount(){return Math.ceil(this.filteredTransactions.length/this.pageSize)}},watch:{searchQuery:"filterTransactions",selectedCategory:"filterTransactions"}};const te=(0,i.A)(Zt,[["render",Wt],["__scopeId","data-v-4c916f7e"]]);var ee=te;const ae=t=>((0,n.Qi)("data-v-7c9e15d3"),t=t(),(0,n.jt)(),t),oe={class:"budget-container"},ne={class:"budget-header"},se=ae((()=>(0,n.Lk)("h1",null,"Budget",-1))),re={class:"nav-buttons"},le=ae((()=>(0,n.Lk)("button",{class:"nav-button"},"Dashboard",-1))),ie=ae((()=>(0,n.Lk)("button",{class:"nav-button"},"Transactions",-1))),de=ae((()=>(0,n.Lk)("button",{class:"nav-button"},"Savings",-1))),ue=ae((()=>(0,n.Lk)("button",{class:"nav-button"},"Reports",-1))),ce=ae((()=>(0,n.Lk)("br",null,null,-1))),he=["onClick"],ge=["onClick"],pe={key:0,class:"modal"},me={class:"modal-content"},ve=ae((()=>(0,n.Lk)("h2",null,"Budget Exceeded Warning",-1))),be={key:0,class:"modal"},ke={class:"modal-content"},fe=ae((()=>(0,n.Lk)("h2",null,"Add Budget",-1))),Le=(0,n.Fv)('<option disabled value="" data-v-7c9e15d3>Select Category</option><option value="Grocery" data-v-7c9e15d3>Grocery</option><option value="Entertainment" data-v-7c9e15d3>Entertainment</option><option value="Shopping" data-v-7c9e15d3>Shopping</option><option value="Education" data-v-7c9e15d3>Education</option>',5),we=[Le],ye=ae((()=>(0,n.Lk)("button",{type:"submit"},"Add",-1))),_e={key:1,class:"modal"},Ce={class:"modal-content"},Ee=ae((()=>(0,n.Lk)("h2",null,"Edit Buddget",-1)));function Te(t,e,a,s,r,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",oe,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.logout&&l.logout(...t)),class:"nav-button logout-button"},"Logout"),(0,n.Lk)("header",ne,[se,(0,n.Lk)("nav",re,[(0,n.bF)(i,{to:`/dashboard/${r.user_id}`},{default:(0,n.k6)((()=>[le])),_:1},8,["to"]),(0,n.bF)(i,{to:`/transaction/${r.user_id}`},{default:(0,n.k6)((()=>[ie])),_:1},8,["to"]),(0,n.bF)(i,{to:`/savings/${r.user_id}`},{default:(0,n.k6)((()=>[de])),_:1},8,["to"]),(0,n.bF)(i,{to:`/reports/${r.user_id}`},{default:(0,n.k6)((()=>[ue])),_:1},8,["to"])])]),(0,n.Lk)("button",{onClick:e[1]||(e[1]=t=>r.showAddModal=!0),class:"nav-button"},"Add Budget"),(0,n.Lk)("main",null,[(0,n.Lk)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.budgets,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"budget-item"},[(0,n.Lk)("h3",null,(0,h.v_)(t.category),1),(0,n.Lk)("div",{class:(0,h.C4)(["progress-container",{alert:t.amountSpent>=t.limit}])},[(0,n.Lk)("div",{class:"progress-bar",style:(0,h.Tr)(l.progressStyle(t))},[(0,n.Lk)("span",null,"$"+(0,h.v_)(t.amountSpent)+" out of $"+(0,h.v_)(t.allowance),1)],4)],2),ce,(0,n.Lk)("div",null,[(0,n.Lk)("button",{onClick:e=>l.editBudget(t),class:"function_button"},"Edit",8,he),(0,n.Lk)("button",{onClick:e=>l.deletebudget(t.id),class:"function_button"},"Delete",8,ge)])])))),128))]),r.showExceedanceModal?((0,n.uX)(),(0,n.CE)("div",pe,[(0,n.Lk)("div",me,[ve,(0,n.Lk)("p",null,(0,h.v_)(r.exceedanceMessage),1),(0,n.Lk)("button",{onClick:e[2]||(e[2]=t=>r.showExceedanceModal=!1)},"Close")])])):(0,n.Q3)("",!0)]),r.showAddModal?((0,n.uX)(),(0,n.CE)("div",be,[(0,n.Lk)("div",ke,[fe,(0,n.Lk)("form",{onSubmit:e[6]||(e[6]=(0,o.D$)(((...t)=>l.createBudget&&l.createBudget(...t)),["prevent"]))},[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>r.newBudget.category=t),required:""},we,512),[[o.u1,r.newBudget.category]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>r.newBudget.allowance=t),type:"number",step:"0.01",placeholder:"Budget Allowance",required:""},null,512),[[o.Jo,r.newBudget.allowance]]),ye,(0,n.Lk)("button",{type:"button",onClick:e[5]||(e[5]=t=>r.showAddModal=!1)},"Cancel")],32)])])):(0,n.Q3)("",!0),r.showEditModal?((0,n.uX)(),(0,n.CE)("div",_e,[(0,n.Lk)("div",Ce,[Ee,(0,n.Lk)("form",{onSubmit:e[10]||(e[10]=(0,o.D$)(((...e)=>t.updateBudget&&t.updateBudget(...e)),["prevent"]))},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>r.currentBudget.allowance=t),type:"number",step:"0.01",placeholder:"Budget Allowance",required:""},null,512),[[o.Jo,r.currentBudget.allowance]]),(0,n.Lk)("button",{onClick:e[8]||(e[8]=e=>t.updateBudget())},"Update"),(0,n.Lk)("button",{type:"button",onClick:e[9]||(e[9]=t=>r.showEditModal=!1)},"Cancel")],32)])])):(0,n.Q3)("",!0)])}var Se={name:"BudgetView",data(){return{user_id:localStorage.getItem("user_id"),budgets:[],showAddModal:!1,showEditModal:!1,showExceedanceModal:!1,newBudget:{user_id:localStorage.getItem("user_id"),category:"",allowance:0,amountSpent:0},currentBudget:{},exceedanceMessage:""}},created(){this.fetchBudgets()},methods:{fetchBudgets(){M.A.get("http://localhost/budget.php",{params:{user_id:this.user_id}}).then((t=>{this.budgets=t.data,console.log(this.budgets),this.checkBudgetExceedance()})).catch((t=>{console.error(t)}))},createBudget(){M.A.post("http://localhost/budget.php",this.newBudget).then((()=>{this.fetchBudgets(),this.showAddModal=!1,this.resetNewBudget()})).catch((t=>{console.error(t)}))},editBudget(t){this.currentBudget={...t},this.showEditModal=!0},deletebudget(t){return M.A.delete("http://localhost/budget.php",{data:{id:t}}).then((()=>{this.fetchBudgets()})).catch((t=>{console.error(t)}))},updateTransaction(){return M.A.put("http://localhost/budget.php",this.currentBudget).then((()=>{this.fetchBudgets(),this.showEditModal=!1})).catch((t=>{console.error(t)}))},resetNewBudget(){this.newBudget={user_id:localStorage.getItem("user_id"),category:"",limit:0,amountSpent:0}},checkBudgetExceedance(){this.exceedanceMessage="",this.budgets.forEach((t=>{parseFloat(t.amountSpent)>parseFloat(t.allowance)&&(this.exceedanceMessage+=`Amount spent exceeded budget for ${t.category}. `,this.showExceedanceModal=!0)}))},progressStyle(t){const e=t.amountSpent/t.allowance*100;return{width:`${Math.max(-100,Math.min(e,100))}%`,backgroundColor:e>100?"#ff6f61":"#4dd0e1"}},logout(){localStorage.removeItem("user_id"),this.$router.push("/").then((()=>{history.replaceState(null,null,"/")}))}}};const Ae=(0,i.A)(Se,[["render",Te],["__scopeId","data-v-7c9e15d3"]]);var Be=Ae;const $e=t=>((0,n.Qi)("data-v-a0df2992"),t=t(),(0,n.jt)(),t),Ge={class:"savings-container"},Me={class:"savings-header"},Fe=$e((()=>(0,n.Lk)("h1",null,"Savings Goals",-1))),Ie={class:"nav-buttons"},Pe=$e((()=>(0,n.Lk)("button",{class:"nav-button"},"Dashboard",-1))),Ue=$e((()=>(0,n.Lk)("button",{class:"nav-button"},"Budget",-1))),Xe=$e((()=>(0,n.Lk)("button",{class:"nav-button"},"Transactions",-1))),Re=$e((()=>(0,n.Lk)("button",{class:"nav-button"},"Reports",-1))),Ve=$e((()=>(0,n.Lk)("h2",null,"Add New Goal",-1))),xe=(0,n.Fv)('<option disabled value="" data-v-a0df2992>Select Category</option><option value="Grocery" data-v-a0df2992>Grocery</option><option value="Entertainment" data-v-a0df2992>Entertainment</option><option value="Shopping" data-v-a0df2992>Shopping</option><option value="Education" data-v-a0df2992>Education</option>',5),Qe=[xe],De={class:"savings-circles"},je=["onClick"];function Je(t,e,a,s,r,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",Ge,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...e)=>t.logout&&t.logout(...e)),class:"nav-button logout-button"},"Logout"),(0,n.Lk)("header",Me,[Fe,(0,n.Lk)("nav",Ie,[(0,n.bF)(i,{to:`/dashboard/${r.user_id}`},{default:(0,n.k6)((()=>[Pe])),_:1},8,["to"]),(0,n.bF)(i,{to:`/budget/${r.user_id}`},{default:(0,n.k6)((()=>[Ue])),_:1},8,["to"]),(0,n.bF)(i,{to:`/transaction/${r.user_id}`},{default:(0,n.k6)((()=>[Xe])),_:1},8,["to"]),(0,n.bF)(i,{to:`/reports/${r.user_id}`},{default:(0,n.k6)((()=>[Re])),_:1},8,["to"])])]),(0,n.Lk)("div",null,[Ve,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.newGoalCategory=t)},Qe,512),[[o.u1,r.newGoalCategory]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.newGoalAmount=t),type:"number",placeholder:"Goal Amount",min:"0.01",step:"0.01"},null,512),[[o.Jo,r.newGoalAmount,void 0,{number:!0}]]),(0,n.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>l.addNewGoal&&l.addNewGoal(...t)),class:"nav-button"},"Add Goal")]),(0,n.Lk)("div",De,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.savingsGoals,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"savings-goal"},[(0,n.Lk)("div",{class:(0,h.C4)(["progress-bar-container",{alert:l.getBudgetInfo(t.category).remaining<0}])},[(0,n.Lk)("div",{class:"progress-bar",style:(0,h.Tr)(l.progressBarWidth(t))},null,4)],2),(0,n.Lk)("p",null,(0,h.v_)(t.category),1),(0,n.Lk)("p",null,"$"+(0,h.v_)(l.getBudgetInfo(t.category).remaining)+" saved of $"+(0,h.v_)(t.goal),1),(0,n.Lk)("button",{onClick:e=>l.setGoal(t),class:"function_button"},"Set Goal",8,je)])))),128))])])}var Oe={name:"SavingsView",data(){return{user_id:localStorage.getItem("user_id"),savingsGoals:[],budgets:[],newGoalCategory:"",newGoalAmount:0}},created(){this.fetchSavingsGoals(),this.fetchBudgets()},methods:{fetchSavingsGoals(){M.A.get("http://localhost/savings.php",{params:{user_id:this.user_id}}).then((t=>{this.savingsGoals=t.data})).catch((t=>{console.error("Error fetching savings goals:",t)}))},fetchBudgets(){M.A.get("http://localhost/budget.php",{params:{user_id:this.user_id}}).then((t=>{this.budgets=t.data})).catch((t=>{console.error("Error fetching budgets:",t)}))},getBudgetInfo(t){const e=this.budgets.find((e=>e.category===t));return e?{allowance:e.allowance,amountSpent:e.amountSpent,remaining:e.allowance-e.amountSpent}:{allowance:0,amountSpent:0,remaining:0}},getSpent(t){const e=this.budgets.find((e=>e.category===t));return e?e.amountSpent:0},setGoal(t){const e=parseFloat(prompt(`Set new savings goal for ${t.category}. Current goal: $${t.goal}`,t.goal));!isNaN(e)&&e>0?this.updateGoal(t,e):alert("Please enter a valid number greater than 0.")},updateGoal(t,e){M.A.put("http://localhost/savings.php",{id:t.id,goal:e}).then((()=>{this.fetchSavingsGoals(),alert("Savings goal updated successfully!")})).catch((t=>{console.error("Error updating goal:",t),alert("Failed to update goal.")}))},addNewGoal(){if(!this.newGoalCategory||this.newGoalAmount<=0)return void alert("Please fill all fields correctly.");const t={user_id:this.user_id,category:this.newGoalCategory,goal:this.newGoalAmount};M.A.post("http://localhost/savings.php",t).then((()=>{this.fetchSavingsGoals(),alert("New savings goal added successfully!"),this.newGoalCategory="",this.newGoalAmount=0})).catch((t=>{console.error("Error adding new savings goal:",t),alert("Failed to add new savings goal.")}))},progressBarWidth(t){const e=this.getBudgetInfo(t.category);let a=e.remaining/t.goal*100;a=Math.max(-100,Math.min(a,100));const o=a<0?"#ff6f61":"#4dd0e1";return{width:`${a}%`,backgroundColor:o}}}};const qe=(0,i.A)(Oe,[["render",Je],["__scopeId","data-v-a0df2992"]]);var Ne=qe;const Ke=t=>((0,n.Qi)("data-v-c1021d54"),t=t(),(0,n.jt)(),t),We={class:"reports-container"},ze={class:"reports-header"},He=Ke((()=>(0,n.Lk)("h1",null,"Reports",-1))),Ye={class:"nav-buttons"},Ze=Ke((()=>(0,n.Lk)("button",{class:"nav-button"},"Dashboard",-1))),ta=Ke((()=>(0,n.Lk)("button",{class:"nav-button"},"Budget",-1))),ea=Ke((()=>(0,n.Lk)("button",{class:"nav-button"},"Transactions",-1))),aa=Ke((()=>(0,n.Lk)("button",{class:"nav-button"},"Savings",-1))),oa={key:0},na={class:"rating"},sa=["onClick"];function ra(t,e,a,o,s,r){const l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",We,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...e)=>t.logout&&t.logout(...e)),class:"nav-button logout-button"},"Logout"),(0,n.Lk)("header",ze,[He,(0,n.Lk)("nav",Ye,[(0,n.bF)(l,{to:`/dashboard/${s.user_id}`},{default:(0,n.k6)((()=>[Ze])),_:1},8,["to"]),(0,n.bF)(l,{to:`/budget/${s.user_id}`},{default:(0,n.k6)((()=>[ta])),_:1},8,["to"]),(0,n.bF)(l,{to:`/transaction/${s.user_id}`},{default:(0,n.k6)((()=>[ea])),_:1},8,["to"]),(0,n.bF)(l,{to:`/savings/${s.user_id}`},{default:(0,n.k6)((()=>[aa])),_:1},8,["to"])])])]),(0,n.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>r.downloadReport&&r.downloadReport(...t)),class:"nav-button"},"Download Report"),s.showRating?((0,n.uX)(),(0,n.CE)("div",oa,[(0,n.Lk)("div",na,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)([5,4,3,2,1],(t=>(0,n.Lk)("span",{key:t,onClick:e=>r.setRating(t),class:(0,h.C4)({star:!0,selected:s.rating>=t})}," ★ ",10,sa))),64))]),(0,n.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>r.submitRating&&r.submitRating(...t)),class:"submit-button"},"Submit Rating")])):(0,n.Q3)("",!0)],64)}a(4603),a(7566),a(8721);var la={name:"ReportsView",data(){return{user_id:localStorage.getItem("user_id"),showRating:!1,rating:0}},methods:{downloadReport(){const t=`http://localhost/report.php?user_id=${this.user_id}`;(0,M.A)({url:t,method:"GET",responseType:"blob"}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download","financial_report.pdf"),document.body.appendChild(a),a.click(),a.remove(),this.showRating=!0})).catch((t=>{console.error("Failed to download the file:",t)}))},setRating(t){this.rating=t},submitRating(){alert(`Thank you for your review! You rated this ${this.rating} out of 5 stars.`),this.showRating=!1}}};const ia=(0,i.A)(la,[["render",ra],["__scopeId","data-v-c1021d54"]]);var da=ia;const ua=[{path:"/",name:"LoginView",component:K},{path:"/register",name:"register",component:P},{path:"/dashboard/:user_id",name:"Dashboard",component:mt},{path:"/transaction/:user_id",name:"transaction",component:ee},{path:"/budget/:user_id",name:"budget",component:Be},{path:"/savings/:user_id",name:"savings",component:Ne},{path:"/reports/:user_id",name:"reports",component:da}],ca=(0,c.aE)({history:(0,c.LA)("/eshangulati.github.io/"),routes:ua});var ha=ca;(0,o.Ef)(u).use(ha).mount("#app")}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,o,n,s){if(!o){var r=1/0;for(u=0;u<t.length;u++){o=t[u][0],n=t[u][1],s=t[u][2];for(var l=!0,i=0;i<o.length;i++)(!1&s||r>=s)&&Object.keys(a.O).every((function(t){return a.O[t](o[i])}))?o.splice(i--,1):(l=!1,s<r&&(r=s));if(l){t.splice(u--,1);var d=n();void 0!==d&&(e=d)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[o,n,s]}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,s,r=o[0],l=o[1],i=o[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(i)var u=i(a)}for(e&&e(o);d<r.length;d++)s=r[d],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},o=self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(4514)}));o=a.O(o)})();
//# sourceMappingURL=app.12ef1cb6.js.map