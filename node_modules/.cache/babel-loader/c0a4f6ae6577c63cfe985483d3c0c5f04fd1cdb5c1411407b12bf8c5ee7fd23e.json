{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-12bf48e8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"savings-container\"\n};\nconst _hoisted_2 = {\n  class: \"savings-header\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Savings Goals\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"nav-buttons\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-button\"\n}, \"Dashboard\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-button\"\n}, \"Budget\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-button\"\n}, \"Transactions\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-button\"\n}, \"Reports\", -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Add New Goal\", -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<option disabled value=\\\"\\\" data-v-12bf48e8>Select Category</option><option value=\\\"Grocery\\\" data-v-12bf48e8>Grocery</option><option value=\\\"Entertainment\\\" data-v-12bf48e8>Entertainment</option><option value=\\\"Shopping\\\" data-v-12bf48e8>Shopping</option><option value=\\\"Education\\\" data-v-12bf48e8>Education</option>\", 5);\nconst _hoisted_15 = [_hoisted_10];\nconst _hoisted_16 = {\n  class: \"savings-circles\"\n};\nconst _hoisted_17 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.logout && _ctx.logout(...args)),\n    class: \"nav-button logout-button\"\n  }, \"Logout\"), _createElementVNode(\"header\", _hoisted_2, [_hoisted_3, _createElementVNode(\"nav\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: `/dashboard/${$data.user_id}`\n  }, {\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/budget/${$data.user_id}`\n  }, {\n    default: _withCtx(() => [_hoisted_6]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/transaction/${$data.user_id}`\n  }, {\n    default: _withCtx(() => [_hoisted_7]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/reports/${$data.user_id}`\n  }, {\n    default: _withCtx(() => [_hoisted_8]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])]), _createElementVNode(\"div\", null, [_hoisted_9, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newGoalCategory = $event)\n  }, [..._hoisted_15], 512 /* NEED_PATCH */), [[_vModelSelect, $data.newGoalCategory]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newGoalAmount = $event),\n    type: \"number\",\n    placeholder: \"Goal Amount\",\n    min: \"0.01\",\n    step: \"0.01\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newGoalAmount, void 0, {\n    number: true\n  }]]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.addNewGoal && $options.addNewGoal(...args)),\n    class: \"nav-button\"\n  }, \"Add Goal\")]), _createElementVNode(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.savingsGoals, goal => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: goal.id,\n      class: \"savings-goal\"\n    }, [_createElementVNode(\"div\", {\n      class: _normalizeClass([\"progress-bar-container\", {\n        'alert': $options.getBudgetInfo(goal.category).remaining < 0\n      }])\n    }, [_createElementVNode(\"div\", {\n      class: \"progress-bar\",\n      style: _normalizeStyle($options.progressBarWidth(goal))\n    }, null, 4 /* STYLE */)], 2 /* CLASS */), _createElementVNode(\"p\", null, _toDisplayString(goal.category), 1 /* TEXT */), _createElementVNode(\"p\", null, \"$\" + _toDisplayString($options.getBudgetInfo(goal.category).remaining) + \" saved of $\" + _toDisplayString(goal.goal), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.setGoal(goal),\n      class: \"function_button\"\n    }, \"Set Goal\", 8 /* PROPS */, _hoisted_17)]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createStaticVNode","_hoisted_10","_createElementBlock","_hoisted_1","onClick","_cache","args","_ctx","logout","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","$data","user_id","default","_withCtx","_hoisted_5","_","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","$event","newGoalCategory","_hoisted_15","newGoalAmount","type","placeholder","min","step","number","$options","addNewGoal","_hoisted_16","_Fragment","_renderList","savingsGoals","goal","key","id","_normalizeClass","getBudgetInfo","category","remaining","style","_normalizeStyle","progressBarWidth","_toDisplayString","setGoal","_hoisted_17"],"sources":["/Users/eshangulati/Documents/GitHub/eshangulati.github.io/my-app/src/components/SavingsPage.vue"],"sourcesContent":["<template>\n    <div class=\"savings-container\">\n      <button @click=\"logout\" class=\"nav-button logout-button\">Logout</button>\n        <header class=\"savings-header\">\n            <h1>Savings Goals</h1>\n            <nav class=\"nav-buttons\">\n            <router-link :to=\"`/dashboard/${user_id}`\">\n                <button class=\"nav-button\">Dashboard</button>\n            </router-link>\n            <router-link :to=\"`/budget/${user_id}`\">\n                <button class=\"nav-button\">Budget</button>\n            </router-link>\n            <router-link :to=\"`/transaction/${user_id}`\">\n                <button class=\"nav-button\">Transactions</button>\n            </router-link>\n            <router-link :to=\"`/reports/${user_id}`\">\n                <button class=\"nav-button\">Reports</button>\n            </router-link>\n            </nav>\n        </header>\n        <div>\n            <h2>Add New Goal</h2>\n            <select v-model=\"newGoalCategory\" >\n                <option disabled value=\"\">Select Category</option>\n                <option value=\"Grocery\">Grocery</option>\n                <option value=\"Entertainment\">Entertainment</option>\n                <option value=\"Shopping\">Shopping</option>\n                <option value=\"Education\">Education</option>\n            </select>\n        <input v-model.number=\"newGoalAmount\" type=\"number\" placeholder=\"Goal Amount\" min=\"0.01\" step=\"0.01\" />\n      <button @click=\"addNewGoal\" class=\"nav-button\">Add Goal</button>\n        </div>\n        <div class=\"savings-circles\">\n            <div v-for=\"goal in savingsGoals\" :key=\"goal.id\" class=\"savings-goal\">\n            <div class=\"progress-bar-container\" :class=\"{'alert': getBudgetInfo(goal.category).remaining < 0}\">\n            <div class=\"progress-bar\" :style=\"progressBarWidth(goal)\"></div>\n            </div>\n                <p>{{ goal.category }}</p>\n                <p>${{ getBudgetInfo(goal.category).remaining }} saved of ${{ goal.goal }}</p>\n            <button @click=\"setGoal(goal)\" class=\"function_button\">Set Goal</button>\n            </div>\n        </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    name : 'SavingsView',\n    data() {\n      return {\n        user_id: localStorage.getItem('user_id'),\n        savingsGoals: [],\n        budgets: [],\n        newGoalCategory: '',\n        newGoalAmount: 0\n      };\n    },\n    created() {\n      this.fetchSavingsGoals();\n      this.fetchBudgets();\n    },\n    methods: {\n      fetchSavingsGoals() {\n        axios.get('http://localhost/savings.php', { params: { user_id: this.user_id }})\n          .then(response => {\n            this.savingsGoals = response.data;\n          })\n          .catch(error => {\n            console.error('Error fetching savings goals:', error);\n          });\n      },\n      fetchBudgets() {\n        axios.get('http://localhost/budget.php', { params: { user_id: this.user_id }})\n          .then(response => {\n            this.budgets = response.data;\n          })\n          .catch(error => {\n            console.error('Error fetching budgets:', error);\n          });\n      },\n      getBudgetInfo(category) {\n        const budget = this.budgets.find(b => b.category === category);\n        return budget ? { \n        allowance: budget.allowance, \n        amountSpent: budget.amountSpent,\n        remaining: budget.allowance - budget.amountSpent} : { allowance: 0, amountSpent: 0, remaining: 0 };\n    },\n      getSpent(category) {\n        const budget = this.budgets.find(b => b.category === category);\n        return budget ? budget.amountSpent : 0;\n      },\n      setGoal(goal) {\n      const newGoalValue = parseFloat(prompt(`Set new savings goal for ${goal.category}. Current goal: $${goal.goal}`, goal.goal));\n      if (!isNaN(newGoalValue) && newGoalValue > 0) {\n        this.updateGoal(goal, newGoalValue);\n      } else {\n        alert(\"Please enter a valid number greater than 0.\");\n      }\n    },\n    updateGoal(goal, newGoalValue) {\n      axios.put('http://localhost/savings.php', {\n        id: goal.id,\n        goal: newGoalValue\n      })\n      .then(() => {\n        this.fetchSavingsGoals(); // Refresh the goals after update\n        alert(\"Savings goal updated successfully!\");\n      })\n      .catch(error => {\n        console.error('Error updating goal:', error);\n        alert(\"Failed to update goal.\");\n      });\n    },\n    addNewGoal() {\n    if (!this.newGoalCategory || this.newGoalAmount <= 0) {\n      alert(\"Please fill all fields correctly.\");\n      return;\n    }\n    \n\n    const goalData = {\n      user_id: this.user_id,\n      category: this.newGoalCategory,\n      goal: this.newGoalAmount\n    };\n    axios.post('http://localhost/savings.php', goalData)\n      .then(() => {\n        this.fetchSavingsGoals();  // Refresh the list of goals\n        alert(\"New savings goal added successfully!\");\n        this.newGoalCategory = '';  // Reset the input fields\n        this.newGoalAmount = 0;\n      })\n      .catch(error => {\n        console.error('Error adding new savings goal:', error);\n        alert(\"Failed to add new savings goal.\");\n      });\n  },\n  progressBarWidth(goal) {\n    const budgetInfo = this.getBudgetInfo(goal.category);\n    let percentage = (budgetInfo.remaining / goal.goal) * 100;\n    percentage = Math.max(-100, Math.min(percentage, 100)); // Clamp percentage to 0-100%\n  \n  // Determine the background color based on the percentage\n    const backgroundColor = percentage < 0 ? '#ff6f61' : '#4dd0e1';\n\n    return {\n        width: `${percentage}%`,\n        backgroundColor: backgroundColor\n    };\n}\n\n  \n}\n  };\n  </script>\n  \n  <style scoped>\n  .savings-container {\n      padding: 20px;\n  }  \n  .savings-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      flex-wrap: wrap; /* Allows header content to wrap on smaller screens */\n  }\n\n  .nav-buttons button {\n  margin: 5px;\n  flex-grow: 1;\n}\n\n.function_button {\n      margin: 0 5px;\n      padding: 10px 20px;\n      border: none;\n      border-radius: 10px;\n      background-color: #4dd0e1;\n      color: white;\n      cursor: pointer;\n      font-size: 16px;\n      transition: background-color 0.3s;\n}\n  \n  .nav-button{\n      margin: 0 5px;\n      padding: 10px 20px;\n      border: none;\n      border-radius: 10px;\n      background-color: #4dd0e1;\n      color: white;\n      cursor: pointer;\n      font-size: 16px;\n      transition: background-color 0.3s;\n  }\n  \n  .savings-circles {\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: space-around;\n  }\n  \n  .savings-goal {\n      width: 100%; /* Full width on small screens */\n      margin: 10px 0;\n      padding: 10px;\n      background-color: #f3f3f3;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  }\n  \n  .progress-bar-container {\n      width: 100%;\n      height: 20px;\n      background-color: #ddd;\n      border-radius: 10px;\n      overflow: hidden;\n      position: relative;\n  }\n  \n  .progress-bar {\n      height: 100%;\n      background-color: #4dd0e1;\n      border-radius: 10px;\n      transition: width 0.5s ease;\n  }\n  \n  /* Media Queries for smaller devices */\n  @media (max-width: 768px) {\n      .savings-header {\n          flex-direction: column;\n          align-items: stretch;\n      }\n  \n      .nav-buttons {\n          width: 100%; /* Full width for easier navigation on small devices */\n          margin-top: 10px;\n      }\n  \n      .nav-buttons button, .nav-button {\n          width: 100%; /* Full-width buttons for better accessibility */\n          margin: 5px 0;\n          font-size: 12px;\n      }\n  \n      .savings-goal {\n          padding: 8px; /* Slightly less padding to fit smaller screens better */\n          font-size: 14px; /* Smaller font size for content */\n      }\n  }\n  \n  @media (max-width: 480px) {\n      .savings-header {\n          padding: 10px;\n      }\n  \n      .nav-button {\n          font-size: 14px;\n          padding: 8px 10px;\n      }\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}