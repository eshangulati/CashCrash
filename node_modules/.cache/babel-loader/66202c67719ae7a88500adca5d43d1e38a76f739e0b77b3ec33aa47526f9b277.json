{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-13622750\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_2 = {\n  class: \"dashboard-header\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"DashBoard\", -1));\nconst _hoisted_4 = {\n  class: \"nav-buttons\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-button\"\n}, \"Budget\", -1));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-button\"\n}, \"Transactions\", -1));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-button\"\n}, \"Savings\", -1));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"nav-button\"\n}, \"Reports\", -1));\nconst _hoisted_9 = {\n  class: \"dashboard-main\"\n};\nconst _hoisted_10 = {\n  class: \"balance-overview\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Balance Overview\", -1));\nconst _hoisted_12 = {\n  class: \"balance-amount\"\n};\nconst _hoisted_13 = {\n  class: \"transaction-history\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Transaction History\", -1));\nconst _hoisted_15 = {\n  class: \"upcoming-transaction\"\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Savings\", -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.logout && $options.logout(...args)),\n    class: \"nav-button logout-button\"\n  }, \"Logout\"), _createElementVNode(\"header\", _hoisted_2, [_hoisted_3, _createElementVNode(\"nav\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: `/budget/${$data.user_id}`\n  }, {\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1\n  }, 8, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/transaction/${$data.user_id}`\n  }, {\n    default: _withCtx(() => [_hoisted_6]),\n    _: 1\n  }, 8, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/savings/${$data.user_id}`\n  }, {\n    default: _withCtx(() => [_hoisted_7]),\n    _: 1\n  }, 8, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/reports/${$data.user_id}`\n  }, {\n    default: _withCtx(() => [_hoisted_8]),\n    _: 1\n  }, 8, [\"to\"])])]), _createElementVNode(\"main\", _hoisted_9, [_createElementVNode(\"section\", _hoisted_10, [_hoisted_11, _createElementVNode(\"div\", _hoisted_12, \" $\" + _toDisplayString($data.totalAllowance), 1)]), _createElementVNode(\"section\", _hoisted_13, [_hoisted_14, _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.lastThreeTransactions, transaction => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: transaction.id\n    }, \" Date: \" + _toDisplayString(transaction.date) + \", Category: \" + _toDisplayString(transaction.category) + \", Merchant: \" + _toDisplayString(transaction.merchant) + \", Amount: $\" + _toDisplayString(transaction.amount), 1);\n  }), 128))])]), _createElementVNode(\"section\", _hoisted_15, [_hoisted_16, _createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.savingsGoals, goal => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: goal.id,\n      class: \"savings-goal\"\n    }, [_createElementVNode(\"div\", {\n      class: _normalizeClass([\"progress-bar-container\", {\n        'alert': $options.getBudgetInfo(goal.category).remaining < 0\n      }])\n    }, [_createElementVNode(\"div\", {\n      class: \"progress-bar\",\n      style: _normalizeStyle({\n        width: $options.progressBarWidth(goal)\n      })\n    }, null, 4)], 2), _createElementVNode(\"p\", null, _toDisplayString(goal.category), 1), _createElementVNode(\"p\", null, \"$\" + _toDisplayString($options.getBudgetInfo(goal.category).remaining) + \" saved of $\" + _toDisplayString(goal.goal), 1)]);\n  }), 128))])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","onClick","_cache","args","$options","logout","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","$data","user_id","default","_withCtx","_hoisted_5","_","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_toDisplayString","totalAllowance","_hoisted_13","_hoisted_14","_Fragment","_renderList","lastThreeTransactions","transaction","key","id","date","category","merchant","amount","_hoisted_15","_hoisted_16","savingsGoals","goal","_normalizeClass","getBudgetInfo","remaining","style","_normalizeStyle","width","progressBarWidth"],"sources":["/Users/eshangulati/Documents/GitHub/eshangulati.github.io/my-app/src/components/DashboardPage.vue"],"sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <button @click=\"logout\" class=\"nav-button logout-button\">Logout</button>\n    <header class=\"dashboard-header\">\n      <h1>DashBoard</h1>\n      <nav class=\"nav-buttons\">\n        <router-link :to=\"`/budget/${user_id}`\">\n          <button class=\"nav-button\">Budget</button>\n        </router-link>\n        <router-link :to=\"`/transaction/${user_id}`\">\n          <button class=\"nav-button\">Transactions</button>\n        </router-link>\n        <router-link :to=\"`/savings/${user_id}`\">\n          <button class=\"nav-button\">Savings</button>\n        </router-link>\n        <router-link :to=\"`/reports/${user_id}`\">\n          <button class=\"nav-button\">Reports</button>\n        </router-link>\n      </nav>\n    </header>\n    <main class=\"dashboard-main\">\n      <section class=\"balance-overview\">\n        <h2>Balance Overview</h2>\n        <div class=\"balance-amount\">\n          ${{ totalAllowance }}\n        </div>\n      </section>\n      <section class=\"transaction-history\">\n        <h2>Transaction History</h2>\n        <ul>\n          <li v-for=\"transaction in lastThreeTransactions\" :key=\"transaction.id\">\n            Date: {{ transaction.date }}, Category: {{ transaction.category }}, Merchant: {{ transaction.merchant }}, Amount: ${{ transaction.amount }}\n          </li>\n        </ul>\n      </section>\n      <section class=\"upcoming-transaction\">\n        <h2>Savings</h2>\n        <div>\n          <div v-for=\"goal in savingsGoals\" :key=\"goal.id\" class=\"savings-goal\">\n            <div class=\"progress-bar-container\" :class=\"{'alert': getBudgetInfo(goal.category).remaining < 0}\">\n            <div class=\"progress-bar\" :style=\"{ width: progressBarWidth(goal) }\"></div>\n            </div>\n                <p>{{ goal.category }}</p>\n                <p>${{ getBudgetInfo(goal.category).remaining }} saved of ${{ goal.goal }}</p>\n            </div>\n        </div>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'DashboardView',\n  data() {\n    return {\n      user_id: localStorage.getItem('user_id'),\n      transactions: [],\n      savingsGoals: [],\n      budgets: [],\n      totalAllowance: 0\n    };\n  },\n  mounted() {\n    this.fetchTransactions();\n    this.fetchBudgets();\n    this.fetchSavingsGoals();\n  },\n  methods: {\n    fetchTransactions() {\n      axios.get('http://localhost/transactions.php', {\n        params: {\n          user_id: this.user_id\n        }\n      })\n      .then(response => {\n        this.transactions = response.data;\n      })\n      .catch(error => {\n        console.error(error);\n        this.$router.push('/');\n      });\n    },\n    fetchBudgets(){\n      axios.get('http://localhost/budget.php', {\n        params: {\n          user_id: this.user_id\n        }\n      })\n      .then(response => {\n        this.budgets = response.data;\n        this.calculateTotalAllowance();\n      })\n      .catch(error => {\n        console.error('Error fetching budgets:', error);\n      })\n    },\n    fetchSavingsGoals() {\n        axios.get('http://localhost/savings.php', { params: { user_id: this.user_id }})\n          .then(response => {\n            this.savingsGoals = response.data;\n          })\n          .catch(error => {\n            console.error('Error fetching savings goals:', error);\n          });\n    },\n    getBudgetInfo(category) {\n        const budget = this.budgets.find(b => b.category === category);\n        return budget ? { \n        allowance: budget.allowance, \n        amountSpent: budget.amountSpent,\n        remaining: budget.allowance - budget.amountSpent} : { allowance: 0, amountSpent: 0, remaining: 0 };\n    },\n    getSpent(category) {\n      const budget = this.budgets.find(b => b.category === category);\n      return budget ? budget.amountSpent : 0;\n    },\n    progressBarWidth(goal) {\n      const budgetInfo = this.getBudgetInfo(goal.category);\n      let percentage = (budgetInfo.remaining / goal.goal) * 100;\n      percentage = Math.max(0, Math.min(percentage, 100)); // Clamp percentage to 0-100%\n      return `${percentage}%`;\n    },\n    calculateTotalAllowance(){\n      this.totalAllowance = this.budgets.reduce((sum, budget) => sum + parseFloat(budget.allowance), 0);\n    },\n    logout() {\n      localStorage.removeItem('user_id'); // Clear user session\n      this.$router.push('/').then(() => {\n      history.replaceState(null, null, '/'); // Replace the history state\n      });\n  }\n  },\n  computed: {\n    lastThreeTransactions(){\n      return this.transactions.slice(-3);\n    }\n  }\n};\n</script>\n  \n<style scoped>\n.dashboard-container {\n  padding: 20px;\n}\n\n.dashboard-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.logout-button {\n  position: absolute;\n  top: 10px; /* Adjust based on desired spacing */\n  right: 10px; /* Adjust based on desired spacing */\n  background-color: #ff4444; /* Red color for logout to indicate action */\n}\n\n.nav-buttons button {\n  margin: 5px;\n  flex-grow: 1;\n}\n\n.dashboard-main {\n  display: flex;\n  flex-direction: column;\n}\n.nav-button.logout-button {\n  background-color: #ff4444; /* Red color for logout to indicate action */\n}\n\n.nav-button.logout-button:hover {\n  background-color: #cc0000; /* Darker red on hover */\n}\n\n.balance-overview,\n.transaction-history {\n  margin: 10px 0;\n  padding: 20px;\n  border-radius: 10px;\n  background-color: #e0f7fa;\n  text-align: center;\n}\n\n.balance-amount {\n  font-size: 2em;\n  color: #00796b;\n}\n\n.transaction-history ul {\n  list-style: none;\n  padding: 0;\n}\n\n.transaction-history li {\n  margin: 5px 0;\n}\n\n.nav-button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 10px; /* Rounded corners */\n  background-color: #4dd0e1; /* Button background color */\n  color: white;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background-color 0.3s;\n}\n\n.nav-button:hover {\n  background-color: #26c6da; /* Darker shade on hover */\n}\n\n.progress-bar-container {\n  width: 100%;\n  height: 20px;\n  background-color: #ddd;\n  border-radius: 10px;\n  overflow: hidden;\n  position: relative;\n}\n\n.progress-bar {\n  height: 100%;\n  background-color: #4dd0e1;\n  border-radius: 10px;\n  transition: width 0.5s ease;\n}\n\n.savings-goal .alert .progress-bar {\n  background-color: #ff6f61;\n}\n\n/* Media Queries for smaller devices */\n@media (max-width: 768px) {\n  .dashboard-header {\n    flex-direction: column;\n  }\n\n  .nav-buttons button {\n    width: 100%; /* Full width for better accessibility */\n    margin: 5px 0; /* Spacing adjustment */\n  }\n\n  .dashboard-main {\n    flex-direction: column;\n  }\n\n  .nav-buttons button {\n    width: 100%;\n  }\n\n  .balance-overview,\n  .transaction-history,\n  .upcoming-transaction {\n    flex: 1 1 100%; /* Full width on small screens */\n  }\n\n  .balance-amount {\n    font-size: 1.5em; /* Smaller font size for balance */\n  }\n}\n\n@media (max-width: 480px) {\n  .nav-button {\n    padding: 8px 10px;\n    font-size: 14px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}