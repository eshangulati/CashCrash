{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'DashboardView',\n  data() {\n    return {\n      user_id: localStorage.getItem('user_id'),\n      transactions: [],\n      savingsGoals: [],\n      budgets: [],\n      totalAllowance: 0\n    };\n  },\n  mounted() {\n    this.fetchTransactions();\n    this.fetchBudgets();\n    this.fetchSavingsGoals();\n  },\n  methods: {\n    fetchTransactions() {\n      axios.get('http://localhost/transactions.php', {\n        params: {\n          user_id: this.user_id\n        }\n      }).then(response => {\n        this.transactions = response.data;\n      }).catch(error => {\n        console.error(error);\n        this.$router.push('/');\n      });\n    },\n    fetchBudgets() {\n      axios.get('http://localhost/budget.php', {\n        params: {\n          user_id: this.user_id\n        }\n      }).then(response => {\n        this.budgets = response.data;\n        this.calculateTotalAllowance();\n      }).catch(error => {\n        console.error('Error fetching budgets:', error);\n      });\n    },\n    fetchSavingsGoals() {\n      axios.get('http://localhost/savings.php', {\n        params: {\n          user_id: this.user_id\n        }\n      }).then(response => {\n        this.savingsGoals = response.data;\n      }).catch(error => {\n        console.error('Error fetching savings goals:', error);\n      });\n    },\n    getBudgetInfo(category) {\n      const budget = this.budgets.find(b => b.category === category);\n      return budget ? {\n        allowance: budget.allowance,\n        amountSpent: budget.amountSpent,\n        remaining: budget.allowance - budget.amountSpent\n      } : {\n        allowance: 0,\n        amountSpent: 0,\n        remaining: 0\n      };\n    },\n    getSpent(category) {\n      const budget = this.budgets.find(b => b.category === category);\n      return budget ? budget.amountSpent : 0;\n    },\n    progressBarWidth(goal) {\n      const budgetInfo = this.getBudgetInfo(goal.category);\n      let percentage = budgetInfo.remaining / goal.goal * 100;\n      percentage = Math.max(0, Math.min(percentage, 100)); // Clamp percentage to 0-100%\n      return `${percentage}%`;\n    },\n    calculateTotalAllowance() {\n      this.totalAllowance = this.budgets.reduce((sum, budget) => sum + parseFloat(budget.allowance), 0);\n    },\n    logout() {\n      localStorage.removeItem('user_id'); // Clear user session\n      this.$router.push('/'); // Redirect to login page\n    }\n  },\n  computed: {\n    lastThreeTransactions() {\n      return this.transactions.slice(-3);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","user_id","localStorage","getItem","transactions","savingsGoals","budgets","totalAllowance","mounted","fetchTransactions","fetchBudgets","fetchSavingsGoals","methods","get","params","then","response","catch","error","console","$router","push","calculateTotalAllowance","getBudgetInfo","category","budget","find","b","allowance","amountSpent","remaining","getSpent","progressBarWidth","goal","budgetInfo","percentage","Math","max","min","reduce","sum","parseFloat","logout","removeItem","computed","lastThreeTransactions","slice"],"sources":["/Users/eshangulati/Documents/GitHub/eshangulati.github.io/my-app/src/components/DashboardPage.vue"],"sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <header class=\"dashboard-header\">\n      <button @click=\"logout\" class=\"nav-button logout-button\">Logout</button>\n      <h1>DashBoard</h1>\n      <nav class=\"nav-buttons\">\n        <router-link :to=\"`/budget/${user_id}`\">\n          <button class=\"nav-button\">Budget</button>\n        </router-link>\n        <router-link :to=\"`/transaction/${user_id}`\">\n          <button class=\"nav-button\">Transactions</button>\n        </router-link>\n        <router-link :to=\"`/savings/${user_id}`\">\n          <button class=\"nav-button\">Savings</button>\n        </router-link>\n        <router-link :to=\"`/reports/${user_id}`\">\n          <button class=\"nav-button\">Reports</button>\n        </router-link>\n      </nav>\n    </header>\n    <main class=\"dashboard-main\">\n      <section class=\"balance-overview\">\n        <h2>Balance Overview</h2>\n        <div class=\"balance-amount\">\n          ${{ totalAllowance }}\n        </div>\n      </section>\n      <section class=\"transaction-history\">\n        <h2>Transaction History</h2>\n        <ul>\n          <li v-for=\"transaction in lastThreeTransactions\" :key=\"transaction.id\">\n            Date: {{ transaction.date }}, Category: {{ transaction.category }}, Merchant: {{ transaction.merchant }}, Amount: ${{ transaction.amount }}\n          </li>\n        </ul>\n      </section>\n      <section class=\"upcoming-transaction\">\n        <h2>Savings</h2>\n        <div>\n          <div v-for=\"goal in savingsGoals\" :key=\"goal.id\" class=\"savings-goal\">\n            <div class=\"progress-bar-container\" :class=\"{'alert': getBudgetInfo(goal.category).remaining < 0}\">\n            <div class=\"progress-bar\" :style=\"{ width: progressBarWidth(goal) }\"></div>\n            </div>\n                <p>{{ goal.category }}</p>\n                <p>${{ getBudgetInfo(goal.category).remaining }} saved of ${{ goal.goal }}</p>\n            </div>\n        </div>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'DashboardView',\n  data() {\n    return {\n      user_id: localStorage.getItem('user_id'),\n      transactions: [],\n      savingsGoals: [],\n      budgets: [],\n      totalAllowance: 0\n    };\n  },\n  mounted() {\n    this.fetchTransactions();\n    this.fetchBudgets();\n    this.fetchSavingsGoals();\n  },\n  methods: {\n    fetchTransactions() {\n      axios.get('http://localhost/transactions.php', {\n        params: {\n          user_id: this.user_id\n        }\n      })\n      .then(response => {\n        this.transactions = response.data;\n      })\n      .catch(error => {\n        console.error(error);\n        this.$router.push('/');\n      });\n    },\n    fetchBudgets(){\n      axios.get('http://localhost/budget.php', {\n        params: {\n          user_id: this.user_id\n        }\n      })\n      .then(response => {\n        this.budgets = response.data;\n        this.calculateTotalAllowance();\n      })\n      .catch(error => {\n        console.error('Error fetching budgets:', error);\n      })\n    },\n    fetchSavingsGoals() {\n        axios.get('http://localhost/savings.php', { params: { user_id: this.user_id }})\n          .then(response => {\n            this.savingsGoals = response.data;\n          })\n          .catch(error => {\n            console.error('Error fetching savings goals:', error);\n          });\n    },\n    getBudgetInfo(category) {\n        const budget = this.budgets.find(b => b.category === category);\n        return budget ? { \n        allowance: budget.allowance, \n        amountSpent: budget.amountSpent,\n        remaining: budget.allowance - budget.amountSpent} : { allowance: 0, amountSpent: 0, remaining: 0 };\n    },\n    getSpent(category) {\n      const budget = this.budgets.find(b => b.category === category);\n      return budget ? budget.amountSpent : 0;\n    },\n    progressBarWidth(goal) {\n      const budgetInfo = this.getBudgetInfo(goal.category);\n      let percentage = (budgetInfo.remaining / goal.goal) * 100;\n      percentage = Math.max(0, Math.min(percentage, 100)); // Clamp percentage to 0-100%\n      return `${percentage}%`;\n    },\n    calculateTotalAllowance(){\n      this.totalAllowance = this.budgets.reduce((sum, budget) => sum + parseFloat(budget.allowance), 0);\n    },\n    logout() {\n      localStorage.removeItem('user_id'); // Clear user session\n      this.$router.push('/'); // Redirect to login page\n    }\n  },\n  computed: {\n    lastThreeTransactions(){\n      return this.transactions.slice(-3);\n    }\n  }\n};\n</script>\n  \n<style scoped>\n.dashboard-container {\n  padding: 20px;\n}\n\n.dashboard-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.nav-buttons button {\n  margin: 5px;\n  flex-grow: 1;\n}\n\n.dashboard-main {\n  display: flex;\n  flex-direction: column;\n}\n.nav-button.logout-button {\n  background-color: #ff4444; /* Red color for logout to indicate action */\n  margin-left: 200px;\n}\n\n.nav-button.logout-button:hover {\n  background-color: #cc0000; /* Darker red on hover */\n}\n\n.balance-overview,\n.transaction-history,\n.upcoming-transaction {\n  margin: 10px 0;\n  padding: 20px;\n  border-radius: 10px;\n  background-color: #e0f7fa;\n  text-align: center;\n}\n\n.balance-amount {\n  font-size: 2em;\n  color: #00796b;\n}\n\n.transaction-history ul {\n  list-style: none;\n  padding: 0;\n}\n\n.transaction-history li {\n  margin: 5px 0;\n}\n\n.nav-button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 10px; /* Rounded corners */\n  background-color: #4dd0e1; /* Button background color */\n  color: white;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background-color 0.3s;\n}\n\n.nav-button:hover {\n  background-color: #26c6da; /* Darker shade on hover */\n}\n\n.progress-bar-container {\n  width: 100%;\n  height: 20px;\n  background-color: #ddd;\n  border-radius: 10px;\n  overflow: hidden;\n  position: relative;\n}\n\n.progress-bar {\n  height: 100%;\n  background-color: #4dd0e1;\n  border-radius: 10px;\n  transition: width 0.5s ease;\n}\n\n.savings-goal .alert .progress-bar {\n  background-color: #ff6f61;\n}\n\n/* Media Queries for smaller devices */\n@media (max-width: 768px) {\n  .dashboard-header {\n    flex-direction: column;\n  }\n\n  .nav-buttons button {\n    width: 100%; /* Full width for better accessibility */\n    margin: 5px 0; /* Spacing adjustment */\n  }\n\n  .dashboard-main {\n    flex-direction: column;\n  }\n\n  .nav-buttons button {\n    width: 100%;\n  }\n\n  .balance-overview,\n  .transaction-history,\n  .upcoming-transaction {\n    flex: 1 1 100%; /* Full width on small screens */\n  }\n\n  .balance-amount {\n    font-size: 1.5em; /* Smaller font size for balance */\n  }\n}\n\n@media (max-width: 480px) {\n  .nav-button {\n    padding: 8px 10px;\n    font-size: 14px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}